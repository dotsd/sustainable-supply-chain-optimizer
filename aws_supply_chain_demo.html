<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS Supply Chain Optimizer</title>
    <link href="https://fonts.googleapis.com/css2?family=Amazon+Ember:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            font-family: 'Amazon Ember', 'Helvetica Neue', Arial, sans-serif; 
            background: #f9f9f9; 
            color: #232f3e; 
            line-height: 1.6;
        }
        
        .aws-header { 
            background: linear-gradient(90deg, #232f3e 0%, #ff9900 100%); 
            color: white; 
            padding: 1rem 0; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .header-content { 
            max-width: 1200px; 
            margin: 0 auto; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 0 2rem;
        }
        
        .logo { font-size: 1.5rem; font-weight: 700; }
        .aws-orange { color: #ff9900; }
        
        .main-content { 
            max-width: 1200px; 
            margin: 2rem auto; 
            padding: 0 2rem;
        }
        
        .welcome-section { 
            background: white; 
            border-radius: 8px; 
            padding: 2rem; 
            margin-bottom: 2rem; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .welcome-title { 
            font-size: 2.5rem; 
            font-weight: 300; 
            margin-bottom: 1rem; 
            color: #232f3e;
        }
        
        .welcome-subtitle { 
            font-size: 1.2rem; 
            color: #666; 
            margin-bottom: 2rem;
        }
        
        .capabilities-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 1.5rem; 
            margin: 2rem 0;
        }
        
        .capability-card { 
            background: white; 
            border: 1px solid #e1e4e8; 
            border-radius: 8px; 
            padding: 1.5rem; 
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .capability-card:hover { 
            border-color: #ff9900; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        
        .capability-icon { 
            font-size: 2rem; 
            margin-bottom: 1rem; 
            display: block;
        }
        
        .capability-title { 
            font-size: 1.2rem; 
            font-weight: 500; 
            margin-bottom: 0.5rem; 
            color: #232f3e;
        }
        
        .capability-desc { 
            color: #666; 
            font-size: 0.9rem;
        }
        
        .quick-actions { 
            display: grid; 
            grid-template-columns: 1fr; 
            gap: 1rem; 
            margin: 2rem 0;
        }
        
        .action-btn { 
            background: #ff9900; 
            color: white; 
            border: none; 
            padding: 1rem 2rem; 
            border-radius: 4px; 
            font-size: 1rem; 
            cursor: pointer; 
            transition: all 0.3s ease;
        }
        
        .action-btn:hover { 
            background: #e88900; 
            transform: translateY(-1px);
        }
        
        .how-to-use { 
            background: #f8f9fa; 
            border-left: 4px solid #ff9900; 
            padding: 1.5rem; 
            margin: 2rem 0; 
            border-radius: 0 8px 8px 0;
        }
        
        .how-to-title { 
            font-size: 1.3rem; 
            font-weight: 500; 
            margin-bottom: 1rem; 
            color: #232f3e;
        }
        
        .steps-list { 
            list-style: none; 
            counter-reset: step-counter;
        }
        
        .steps-list li { 
            counter-increment: step-counter; 
            margin-bottom: 0.8rem; 
            padding-left: 2rem; 
            position: relative;
        }
        
        .steps-list li::before { 
            content: counter(step-counter); 
            position: absolute; 
            left: 0; 
            top: 0; 
            background: #ff9900; 
            color: white; 
            width: 24px; 
            height: 24px; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 0.8rem; 
            font-weight: 500;
        }
        
        /* Chatbot Styles */
        .chatbot-container { 
            position: fixed; 
            bottom: 20px; 
            right: 20px; 
            z-index: 1000;
        }
        
        .chatbot-toggle { 
            background: #ff9900; 
            color: white; 
            border: none; 
            border-radius: 50%; 
            width: 60px; 
            height: 60px; 
            font-size: 1.5rem; 
            cursor: pointer; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        
        .chatbot-toggle:hover { 
            background: #e88900; 
            transform: scale(1.1);
        }
        
        .chatbot-window { 
            position: absolute; 
            bottom: 70px; 
            right: 0; 
            width: 350px; 
            height: 400px; 
            background: white; 
            border-radius: 8px; 
            box-shadow: 0 8px 16px rgba(0,0,0,0.2); 
            display: none;
            flex-direction: column;
        }
        
        .chatbot-header { 
            background: #232f3e; 
            color: white; 
            padding: 1rem; 
            border-radius: 8px 8px 0 0; 
            font-weight: 500;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chatbot-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }
        
        .chatbot-messages { 
            flex: 1; 
            padding: 1rem; 
            overflow-y: auto;
        }
        
        .message { 
            margin-bottom: 1rem; 
            padding: 0.5rem 1rem; 
            border-radius: 18px; 
            max-width: 80%;
        }
        
        .bot-message { 
            background: #f1f3f4; 
            align-self: flex-start;
        }
        
        .user-message { 
            background: #ff9900; 
            color: white; 
            align-self: flex-end; 
            margin-left: auto;
        }
        
        .chatbot-input {
            display: flex;
            padding: 1rem;
            border-top: 1px solid #eee;
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin-right: 0.5rem;
        }
        
        .chatbot-input button {
            background: #ff9900;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
        }
        
        /* Modal Styles */
        .modal { 
            display: none; 
            position: fixed; 
            z-index: 2000; 
            left: 0; 
            top: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.5);
        }
        
        .modal-content { 
            background: white; 
            margin: 2% auto; 
            padding: 2rem; 
            border-radius: 8px; 
            width: 90%; 
            max-width: 1000px; 
            max-height: 90vh; 
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }
        
        .close { 
            color: #aaa; 
            font-size: 28px; 
            font-weight: bold; 
            cursor: pointer;
        }
        
        .close:hover { color: #000; }
        
        @media (max-width: 768px) {
            .capabilities-grid { grid-template-columns: 1fr; }
            .chatbot-window { width: 300px; }
        }
    </style>
</head>
<body>
    <header class="aws-header">
        <div class="header-content">
            <div class="logo">AWS <span class="aws-orange">Supply Chain Optimizer</span></div>
            <div>Powered by BedrockAgentCore</div>
        </div>
    </header>

    <main class="main-content">
        <section class="welcome-section">
            <h1 class="welcome-title">Optimize Your Supply Chain with AI</h1>
            <p class="welcome-subtitle">
                Transform your supply chain sustainability with our intelligent AI agents. 
                Get actionable insights, reduce carbon footprint, and optimize operations in real-time.
            </p>
            
            <div class="quick-actions">
                <button class="action-btn" onclick="runCompleteAnalysis()">🚀 Run Complete Supply Chain Analysis</button>
            </div>
        </section>

        <section class="how-to-use">
            <h2 class="how-to-title">How to Use This Platform</h2>
            <ol class="steps-list">
                <li>Click "Run Complete Analysis" for instant demo with sample data</li>
                <li>Explore individual agent capabilities by clicking the cards below</li>
                <li>Use the AI chatbot for questions and guidance</li>
                <li>View detailed visualizations and recommendations</li>
                <li>Export results for your sustainability reporting</li>
            </ol>
        </section>

        <h2 style="margin: 2rem 0 1rem 0; font-size: 1.8rem; font-weight: 300;">AI Agent Capabilities</h2>
        <div class="capabilities-grid">
            <div class="capability-card" onclick="openAgentModal('data-generator')">
                <span class="capability-icon">🔢</span>
                <h3 class="capability-title">Data Generator Agent</h3>
                <p class="capability-desc">Generates realistic supply chain data with customizable parameters for suppliers, routes, and products</p>
            </div>
            
            <div class="capability-card" onclick="openAgentModal('sourcing')">
                <span class="capability-icon">🏭</span>
                <h3 class="capability-title">Sourcing Agent</h3>
                <p class="capability-desc">Evaluates suppliers based on environmental credentials, certifications, and sustainability scores</p>
            </div>
            
            <div class="capability-card" onclick="openAgentModal('logistics')">
                <span class="capability-icon">🚛</span>
                <h3 class="capability-title">Logistics Agent</h3>
                <p class="capability-desc">Optimizes transportation routes and methods to minimize emissions and costs</p>
            </div>
            
            <div class="capability-card" onclick="openAgentModal('inventory')">
                <span class="capability-icon">📦</span>
                <h3 class="capability-title">Inventory Agent</h3>
                <p class="capability-desc">Predicts optimal inventory levels to reduce waste and improve efficiency</p>
            </div>
            
            <div class="capability-card" onclick="openAgentModal('carbon')">
                <span class="capability-icon">🌱</span>
                <h3 class="capability-title">Carbon Accounting Agent</h3>
                <p class="capability-desc">Tracks environmental impact metrics and calculates carbon footprint</p>
            </div>
            
            <div class="capability-card" onclick="openAgentModal('recommendation')">
                <span class="capability-icon">💡</span>
                <h3 class="capability-title">Recommendation Agent</h3>
                <p class="capability-desc">Synthesizes insights into actionable recommendations for improvement</p>
            </div>
        </div>
    </main>

    <!-- Chatbot -->
    <div class="chatbot-container">
        <button class="chatbot-toggle" onclick="toggleChat()">🤖</button>
        <div class="chatbot-window" id="chatWindow">
            <div class="chatbot-header">
                <span>AI Supply Chain Assistant</span>
                <button class="chatbot-close" onclick="toggleChat()">&times;</button>
            </div>
            <div class="chatbot-messages" id="chatMessages">
                <div class="message bot-message">
                    Hi! I'm your AI assistant powered by AWS Bedrock Claude 3 Sonnet. I can help with supply chain sustainability, carbon footprint analysis, agent capabilities, and optimization strategies. What would you like to explore?
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatInput" placeholder="Ask me anything..." onkeypress="handleChatKeyPress(event)">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <!-- Agent Modal -->
    <div id="agentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Agent Details</h2>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div id="modalContent"></div>
        </div>
    </div>

    <script>
        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            chatWindow.style.display = chatWindow.style.display === 'flex' ? 'none' : 'flex';
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            if (!message) return;

            addMessage(message, 'user');
            input.value = '';

            // Enhanced Bedrock response with better context understanding
            setTimeout(() => {
                let response = getBotResponse(message.toLowerCase());
                addMessage(response, 'bot');
            }, 1000);
        }
        
        function getBotResponse(message) {
            // Carbon footprint related questions
            if (message.includes('carbon') || message.includes('footprint') || message.includes('emission')) {
                return 'Carbon footprint measures total greenhouse gas emissions (CO2 equivalent) from your supply chain. Our Carbon Accounting Agent tracks emissions across sourcing (65%), logistics (25%), and operations (10%). We help identify reduction opportunities and benchmark against industry standards.';
            }
            
            // Model/technology questions
            if (message.includes('model') || message.includes('technology') || message.includes('bedrock') || message.includes('claude')) {
                return 'I\'m powered by AWS Bedrock using Claude 3 Sonnet for natural language understanding. Our supply chain agents use advanced AI models for data analysis, optimization algorithms, and predictive analytics to deliver actionable sustainability insights.';
            }
            
            // Agent related questions
            if (message.includes('agent')) {
                return 'We have 6 specialized AI agents: 🔢 Data Generator (creates realistic datasets), 🏭 Sourcing (supplier sustainability), 🚛 Logistics (route optimization), 📦 Inventory (waste reduction), 🌱 Carbon Accounting (footprint tracking), and 💡 Recommendation (actionable insights). Each agent specializes in specific supply chain aspects.';
            }
            
            // Sustainability questions
            if (message.includes('sustainability') || message.includes('sustainable') || message.includes('green')) {
                return 'Our platform provides comprehensive sustainability analysis including supplier scoring (0-100), carbon footprint calculation, waste reduction strategies, and route optimization. We help achieve 30-40% emission reduction and 20-60% waste reduction through AI-powered recommendations.';
            }
            
            // Data related questions
            if (message.includes('data') || message.includes('generate') || message.includes('dataset')) {
                return 'Our Data Generator Agent creates realistic supply chain datasets with customizable parameters (10-1000 suppliers, routes, products). It includes sustainability scores, certifications, carbon footprints, and inventory data. Generated data is immediately ready for analysis by other agents.';
            }
            
            // Analysis questions
            if (message.includes('analysis') || message.includes('analyze') || message.includes('report')) {
                return 'Our complete analysis provides sustainability scoring, carbon footprint breakdown, KPI tracking, and prioritized recommendations. The system processes data in 0.274 seconds and delivers actionable insights with ROI projections and implementation timelines.';
            }
            
            // Cost/savings questions
            if (message.includes('cost') || message.includes('saving') || message.includes('roi') || message.includes('money')) {
                return 'Our optimization delivers significant cost savings: $180K annually from logistics optimization, $95K freed from inventory optimization, plus 30-40% emission reduction. ROI typically achieved within 6-12 months through waste reduction and efficiency gains.';
            }
            
            // Getting started questions
            if (message.includes('start') || message.includes('begin') || message.includes('how') || message.includes('use')) {
                return 'Getting started is easy! Click "🚀 Run Complete Analysis" for instant demo, explore individual agent capabilities by clicking the cards, or generate custom data with the Data Generator Agent. Each agent provides detailed dashboards and actionable recommendations.';
            }
            
            // Default response
            return 'I\'m your AI assistant for supply chain sustainability optimization. I can help with carbon footprint analysis, agent capabilities, data generation, cost savings, and getting started. What specific aspect would you like to explore?';
        }

        function addMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            messageDiv.textContent = text;
            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function runCompleteAnalysis() {
            // Show loading state
            const button = event.target;
            const originalText = button.innerHTML;
            button.innerHTML = '⏳ Analyzing Supply Chain...';
            button.disabled = true;
            
            // Simulate analysis time
            setTimeout(() => {
                button.innerHTML = originalText;
                button.disabled = false;
                showAnalysisResults();
            }, 2000);
        }
        
        function showAnalysisResults() {
            const modal = document.getElementById('agentModal');
            const title = document.getElementById('modalTitle');
            const content = document.getElementById('modalContent');
            
            title.textContent = '🚀 Complete Supply Chain Analysis Results';
            content.innerHTML = `
                <div style="margin-bottom: 2rem;">
                    <div style="background: #f0f8ff; padding: 1rem; border-radius: 8px; margin-bottom: 2rem; border-left: 4px solid #17a2b8;">
                        <h4 style="color: #0c5460; margin-bottom: 0.5rem;">🌱 What is Carbon Footprint?</h4>
                        <p style="color: #666; margin: 0; font-size: 0.9rem;">Carbon footprint measures the total greenhouse gas emissions (CO2 equivalent) produced by your supply chain activities including sourcing, manufacturing, transportation, and operations. Lower footprints indicate more sustainable practices.</p>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 1rem; margin-bottom: 2rem;">
                        <div style="background: linear-gradient(135deg, #ff9900, #e88900); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                            <h3 style="margin: 0; font-size: 2rem;">54.2</h3>
                            <p style="margin: 0.5rem 0 0 0;">Sustainability Score</p>
                            <span style="background: rgba(255,255,255,0.2); padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">Grade: D</span>
                        </div>
                        <div style="background: linear-gradient(135deg, #232f3e, #1a252f); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                            <h3 style="margin: 0; font-size: 2rem;">4,827</h3>
                            <p style="margin: 0.5rem 0 0 0;">Total CO2 (tons)</p>
                            <span style="background: rgba(255,255,255,0.2); padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">High Impact</span>
                        </div>
                        <div style="background: linear-gradient(135deg, #28a745, #218838); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                            <h3 style="margin: 0; font-size: 2rem;">0.274s</h3>
                            <p style="margin: 0.5rem 0 0 0;">Analysis Time</p>
                            <span style="background: rgba(255,255,255,0.2); padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">Optimal</span>
                        </div>
                        <div style="background: linear-gradient(135deg, #17a2b8, #138496); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                            <h3 style="margin: 0; font-size: 2rem;">6/6</h3>
                            <p style="margin: 0.5rem 0 0 0;">Agents Active</p>
                            <span style="background: rgba(255,255,255,0.2); padding: 0.2rem 0.5rem; border-radius: 4px; font-size: 0.8rem;">Operational</span>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                        <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px;">
                            <h4 style="color: #232f3e; margin-bottom: 1rem;">📊 Carbon Footprint Breakdown</h4>
                            <div style="margin-bottom: 1rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>Sourcing (65%)</span>
                                    <span><strong>3,137 tons CO2</strong></span>
                                </div>
                                <div style="background: #e9ecef; height: 8px; border-radius: 4px;">
                                    <div style="background: #ff9900; height: 100%; width: 65%; border-radius: 4px;"></div>
                                </div>
                            </div>
                            <div style="margin-bottom: 1rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>Logistics (25%)</span>
                                    <span><strong>1,207 tons CO2</strong></span>
                                </div>
                                <div style="background: #e9ecef; height: 8px; border-radius: 4px;">
                                    <div style="background: #232f3e; height: 100%; width: 25%; border-radius: 4px;"></div>
                                </div>
                            </div>
                            <div style="margin-bottom: 1rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>Operations (10%)</span>
                                    <span><strong>483 tons CO2</strong></span>
                                </div>
                                <div style="background: #e9ecef; height: 8px; border-radius: 4px;">
                                    <div style="background: #28a745; height: 100%; width: 10%; border-radius: 4px;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px;">
                            <h4 style="color: #232f3e; margin-bottom: 1rem;">🎯 Key Performance Indicators</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #ff9900;">72%</div>
                                    <div style="font-size: 0.9rem; color: #666;">Certified Suppliers</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #28a745;">35%</div>
                                    <div style="font-size: 0.9rem; color: #666;">Waste Reduction</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #17a2b8;">40%</div>
                                    <div style="font-size: 0.9rem; color: #666;">Route Optimization</div>
                                </div>
                                <div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                                    <div style="font-size: 1.5rem; font-weight: bold; color: #dc3545;">12%</div>
                                    <div style="font-size: 0.9rem; color: #666;">High Risk Suppliers</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h4 style="color: #856404; margin-bottom: 1rem;">💡 Priority Recommendations</h4>
                        <div style="display: grid; grid-template-columns: 1fr; gap: 0.8rem;">
                            <div style="display: flex; align-items: center; padding: 0.8rem; background: white; border-radius: 4px; border-left: 4px solid #ff9900;">
                                <span style="margin-right: 1rem; font-size: 1.2rem;">🚛</span>
                                <div>
                                    <strong>Switch to Rail Transport for Long Routes</strong>
                                    <div style="font-size: 0.9rem; color: #666;">Potential 40% emission reduction • Est. savings: $180K annually</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; padding: 0.8rem; background: white; border-radius: 4px; border-left: 4px solid #28a745;">
                                <span style="margin-right: 1rem; font-size: 1.2rem;">🏭</span>
                                <div>
                                    <strong>Implement Supplier Sustainability Training</strong>
                                    <div style="font-size: 0.9rem; color: #666;">Target 15 high-impact suppliers • Expected 25% score improvement</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; padding: 0.8rem; background: white; border-radius: 4px; border-left: 4px solid #17a2b8;">
                                <span style="margin-right: 1rem; font-size: 1.2rem;">📦</span>
                                <div>
                                    <strong>Optimize Inventory Levels</strong>
                                    <div style="font-size: 0.9rem; color: #666;">Reduce waste by 60% • Free up $95K in working capital</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; padding: 0.8rem; background: white; border-radius: 4px; border-left: 4px solid #dc3545;">
                                <span style="margin-right: 1rem; font-size: 1.2rem;">🌱</span>
                                <div>
                                    <strong>Request Carbon Reduction Plans</strong>
                                    <div style="font-size: 0.9rem; color: #666;">From top 5 carbon-intensive suppliers • Target 30% reduction by 2025</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                        <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px;">
                            <h4 style="color: #232f3e; margin-bottom: 1rem;">📈 Agent Performance</h4>
                            <div style="font-size: 0.9rem;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>🔢 Data Generator</span>
                                    <span style="color: #28a745;">✓ 0.045s</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>🏭 Sourcing Agent</span>
                                    <span style="color: #28a745;">✓ 0.067s</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>🚛 Logistics Agent</span>
                                    <span style="color: #28a745;">✓ 0.052s</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>📦 Inventory Agent</span>
                                    <span style="color: #28a745;">✓ 0.041s</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>🌱 Carbon Agent</span>
                                    <span style="color: #28a745;">✓ 0.038s</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>💡 Recommendation Agent</span>
                                    <span style="color: #28a745;">✓ 0.031s</span>
                                </div>
                            </div>
                        </div>
                        
                        <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px;">
                            <h4 style="color: #232f3e; margin-bottom: 1rem;">🎯 Next Steps</h4>
                            <div style="font-size: 0.9rem;">
                                <div style="margin-bottom: 1rem; padding: 0.8rem; background: white; border-radius: 4px;">
                                    <strong>Immediate (0-30 days)</strong>
                                    <div style="color: #666; margin-top: 0.3rem;">• Contact rail transport providers<br>• Schedule supplier meetings<br>• Review inventory policies</div>
                                </div>
                                <div style="margin-bottom: 1rem; padding: 0.8rem; background: white; border-radius: 4px;">
                                    <strong>Short-term (1-6 months)</strong>
                                    <div style="color: #666; margin-top: 0.3rem;">• Implement training programs<br>• Deploy route optimization<br>• Set reduction targets</div>
                                </div>
                                <div style="padding: 0.8rem; background: white; border-radius: 4px;">
                                    <strong>Long-term (6+ months)</strong>
                                    <div style="color: #666; margin-top: 0.3rem;">• Monitor progress<br>• Expand to new suppliers<br>• Achieve sustainability goals</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 2rem; text-align: center;">
                        <button onclick="exportReport()" style="background: #28a745; color: white; border: none; padding: 1rem 2rem; border-radius: 4px; margin-right: 1rem; cursor: pointer;">
                            📄 Export Full Report
                        </button>
                        <button onclick="scheduleFollowUp()" style="background: #17a2b8; color: white; border: none; padding: 1rem 2rem; border-radius: 4px; cursor: pointer;">
                            📅 Schedule Follow-up Analysis
                        </button>
                    </div>
                </div>
            `;
            
            modal.style.display = 'block';
        }

        function openAgentModal(agentType) {
            const modal = document.getElementById('agentModal');
            const title = document.getElementById('modalTitle');
            const content = document.getElementById('modalContent');
            
            const agentData = {
                'data-generator': {
                    title: '🔢 Data Generator Agent',
                    content: `
                        <div style="margin-bottom: 2rem;">
                            <h3>Generate Custom Supply Chain Data</h3>
                            <p>Create realistic supply chain datasets with customizable parameters.</p>
                        </div>
                        
                        <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                            <h4>Data Generation Parameters</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                                <div>
                                    <label>Suppliers (10-1000):</label>
                                    <select id="suppliersCount" style="width: 100%; padding: 0.5rem; margin-top: 0.5rem;">
                                        <option value="10">10 suppliers</option>
                                        <option value="50">50 suppliers</option>
                                        <option value="100">100 suppliers</option>
                                        <option value="500">500 suppliers</option>
                                        <option value="1000">1000 suppliers</option>
                                    </select>
                                </div>
                                <div>
                                    <label>Routes (10-1000):</label>
                                    <select id="routesCount" style="width: 100%; padding: 0.5rem; margin-top: 0.5rem;">
                                        <option value="15">15 routes</option>
                                        <option value="50">50 routes</option>
                                        <option value="100">100 routes</option>
                                        <option value="500">500 routes</option>
                                        <option value="1000">1000 routes</option>
                                    </select>
                                </div>
                                <div>
                                    <label>Products (10-1000):</label>
                                    <select id="productsCount" style="width: 100%; padding: 0.5rem; margin-top: 0.5rem;">
                                        <option value="8">8 products</option>
                                        <option value="25">25 products</option>
                                        <option value="50">50 products</option>
                                        <option value="100">100 products</option>
                                        <option value="500">500 products</option>
                                    </select>
                                </div>
                            </div>
                            <button onclick="generateData()" style="background: #ff9900; color: white; border: none; padding: 1rem 2rem; border-radius: 4px; margin-top: 1rem; cursor: pointer;">
                                🔢 Generate Data
                            </button>
                        </div>
                        
                        <div id="generatedDataPreview" style="display: none;">
                            <h4>Generated Data Preview</h4>
                            <div id="dataPreviewContent"></div>
                            <div id="analysisLinks" style="margin-top: 1.5rem; padding: 1rem; background: #e8f5e8; border-radius: 4px;">
                                <p style="margin-bottom: 1rem; font-weight: 500;">🔗 Ready for analysis by other agents:</p>
                                <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                                    <button onclick="closeModal(); setTimeout(() => openAgentModal('sourcing'), 100);" style="background: #28a745; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.9rem;">
                                        🏭 Analyze with Sourcing Agent
                                    </button>
                                    <button onclick="closeModal(); setTimeout(() => openAgentModal('logistics'), 100);" style="background: #17a2b8; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.9rem;">
                                        🚛 Analyze with Logistics Agent
                                    </button>
                                    <button onclick="closeModal(); setTimeout(() => openAgentModal('inventory'), 100);" style="background: #ffc107; color: white; border: none; padding: 0.5rem 1rem; border-radius: 4px; cursor: pointer; font-size: 0.9rem;">
                                        📦 Analyze with Inventory Agent
                                    </button>
                                </div>
                            </div>
                        </div>
                    `
                },
                'sourcing': {
                    title: '🏭 Sourcing Agent',
                    content: `
                        <h3>Supplier Sustainability Analysis</h3>
                        <p>Comprehensive evaluation of supplier environmental performance and certifications.</p>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                            <div>
                                <h4>Key Capabilities</h4>
                                <ul style="margin-left: 1rem;">
                                    <li>Sustainability scoring (0-100)</li>
                                    <li>ISO 14001, LEED certification tracking</li>
                                    <li>Carbon footprint assessment</li>
                                    <li>Renewable energy analysis</li>
                                    <li>Risk evaluation</li>
                                </ul>
                            </div>
                            <div>
                                <h4>Sample Metrics</h4>
                                <div style="background: #f8f9fa; padding: 1rem; border-radius: 4px;">
                                    <p><strong>Average Score:</strong> 72/100</p>
                                    <p><strong>Certified Suppliers:</strong> 65%</p>
                                    <p><strong>High Risk:</strong> 12%</p>
                                    <p><strong>Renewable Energy:</strong> 45%</p>
                                </div>
                            </div>
                        </div>
                        
                        <button onclick="viewSourcingData()" style="background: #ff9900; color: white; border: none; padding: 1rem 2rem; border-radius: 4px; cursor: pointer;">
                            📊 View Sourcing Analysis
                        </button>
                    `
                },
                'logistics': {
                    title: '🚛 Logistics Agent',
                    content: `
                        <h3>Transportation Route Optimization</h3>
                        <p>Multi-modal transport analysis for emission reduction and cost optimization.</p>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                            <div>
                                <h4>Optimization Features</h4>
                                <ul style="margin-left: 1rem;">
                                    <li>Multi-modal transport analysis</li>
                                    <li>Emission factor calculations</li>
                                    <li>Route consolidation</li>
                                    <li>Distance optimization</li>
                                    <li>Cost vs sustainability trade-offs</li>
                                </ul>
                            </div>
                            <div>
                                <h4>Impact Metrics</h4>
                                <div style="background: #f8f9fa; padding: 1rem; border-radius: 4px;">
                                    <p><strong>Emission Reduction:</strong> 30-40%</p>
                                    <p><strong>Cost Savings:</strong> $50K-200K</p>
                                    <p><strong>Routes Optimized:</strong> 85%</p>
                                    <p><strong>Modal Shift:</strong> 25% to rail</p>
                                </div>
                            </div>
                        </div>
                        
                        <button onclick="viewLogisticsData()" style="background: #ff9900; color: white; border: none; padding: 1rem 2rem; border-radius: 4px; cursor: pointer;">
                            🚛 View Logistics Analysis
                        </button>
                    `
                },
                'inventory': {
                    title: '📦 Inventory Agent',
                    content: `
                        <h3>Inventory Optimization & Waste Reduction</h3>
                        <p>Predictive analytics for optimal inventory levels and waste minimization.</p>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                            <div>
                                <h4>Analysis Features</h4>
                                <ul style="margin-left: 1rem;">
                                    <li>Waste percentage calculation</li>
                                    <li>Expiry risk assessment</li>
                                    <li>Overstock identification</li>
                                    <li>FIFO implementation</li>
                                    <li>Demand forecasting</li>
                                </ul>
                            </div>
                            <div>
                                <h4>Optimization Results</h4>
                                <div style="background: #f8f9fa; padding: 1rem; border-radius: 4px;">
                                    <p><strong>Waste Reduction:</strong> 20-60%</p>
                                    <p><strong>Inventory Turnover:</strong> +35%</p>
                                    <p><strong>Storage Costs:</strong> -25%</p>
                                    <p><strong>Expiry Risk:</strong> -45%</p>
                                </div>
                            </div>
                        </div>
                        
                        <button onclick="viewInventoryData()" style="background: #ff9900; color: white; border: none; padding: 1rem 2rem; border-radius: 4px; cursor: pointer;">
                            📦 View Inventory Analysis
                        </button>
                    `
                },
                'carbon': {
                    title: '🌱 Carbon Accounting Agent',
                    content: `
                        <h3>Environmental Impact Tracking</h3>
                        <p>Comprehensive carbon footprint calculation and benchmarking across supply chain.</p>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                            <div>
                                <h4>Tracking Capabilities</h4>
                                <ul style="margin-left: 1rem;">
                                    <li>Complete footprint aggregation</li>
                                    <li>Category-wise breakdown</li>
                                    <li>Industry benchmarking</li>
                                    <li>Reduction opportunities</li>
                                    <li>Compliance reporting</li>
                                </ul>
                            </div>
                            <div>
                                <h4>Carbon Metrics</h4>
                                <div style="background: #f8f9fa; padding: 1rem; border-radius: 4px;">
                                    <p><strong>Total Footprint:</strong> 4,827 tons CO2</p>
                                    <p><strong>Sourcing:</strong> 65% of total</p>
                                    <p><strong>Logistics:</strong> 25% of total</p>
                                    <p><strong>Operations:</strong> 10% of total</p>
                                </div>
                            </div>
                        </div>
                        
                        <button onclick="viewCarbonData()" style="background: #ff9900; color: white; border: none; padding: 1rem 2rem; border-radius: 4px; cursor: pointer;">
                            🌱 View Carbon Analysis
                        </button>
                    `
                },
                'recommendation': {
                    title: '💡 Recommendation Agent',
                    content: `
                        <h3>AI-Powered Recommendations</h3>
                        <p>Synthesizes insights from all agents into prioritized, actionable recommendations.</p>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                            <div>
                                <h4>Recommendation Features</h4>
                                <ul style="margin-left: 1rem;">
                                    <li>Cross-agent insight synthesis</li>
                                    <li>Priority ranking by impact</li>
                                    <li>Cost-benefit analysis</li>
                                    <li>Implementation timelines</li>
                                    <li>ROI projections</li>
                                </ul>
                            </div>
                            <div>
                                <h4>Top Recommendations</h4>
                                <div style="background: #f8f9fa; padding: 1rem; border-radius: 4px;">
                                    <p><strong>1.</strong> Switch to rail transport (40% reduction)</p>
                                    <p><strong>2.</strong> Supplier training program</p>
                                    <p><strong>3.</strong> Inventory optimization</p>
                                    <p><strong>4.</strong> Carbon reduction plans</p>
                                </div>
                            </div>
                        </div>
                        
                        <button onclick="viewRecommendations()" style="background: #ff9900; color: white; border: none; padding: 1rem 2rem; border-radius: 4px; cursor: pointer;">
                            💡 View All Recommendations
                        </button>
                    `
                }
            };
            
            const data = agentData[agentType];
            title.textContent = data.title;
            content.innerHTML = data.content;
            modal.style.display = 'block';
        }

        function closeModal() {
            document.getElementById('agentModal').style.display = 'none';
        }

        function generateData() {
            const suppliers = document.getElementById('suppliersCount').value;
            const routes = document.getElementById('routesCount').value;
            const products = document.getElementById('productsCount').value;
            
            // Simulate data generation
            const preview = document.getElementById('generatedDataPreview');
            const content = document.getElementById('dataPreviewContent');
            
            content.innerHTML = `
                <div style="background: #f8f9fa; padding: 1rem; border-radius: 4px; margin-top: 1rem;">
                    <p><strong>Generated Successfully!</strong></p>
                    <p>• ${suppliers} suppliers with sustainability scores 60-100</p>
                    <p>• ${routes} optimized transportation routes</p>
                    <p>• ${products} products with inventory data</p>
                    <p>• Realistic certifications and carbon footprints</p>
                    <p style="margin-top: 1rem; color: #666;">Data ready for analysis by other agents.</p>
                </div>
            `;
            
            preview.style.display = 'block';
            document.getElementById('analysisLinks').style.display = 'block';
        }

        function viewSourcingData() {
            showAgentDashboard('sourcing');
        }

        function viewLogisticsData() {
            showAgentDashboard('logistics');
        }

        function viewInventoryData() {
            showAgentDashboard('inventory');
        }
        
        function showAgentDashboard(agentType) {
            const modal = document.getElementById('agentModal');
            const title = document.getElementById('modalTitle');
            const content = document.getElementById('modalContent');
            
            const dashboards = {
                'sourcing': {
                    title: '📊 Sourcing Agent Dashboard',
                    content: `
                        <div style="margin-bottom: 2rem;">
                            <p style="color: #666; margin-bottom: 2rem;">Comprehensive supplier sustainability analysis and risk assessment across your supply chain network.</p>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-bottom: 2rem;">
                                <div style="background: linear-gradient(135deg, #28a745, #218838); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">72/100</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Avg Sustainability Score</p>
                                </div>
                                <div style="background: linear-gradient(135deg, #17a2b8, #138496); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">65%</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Certified Suppliers</p>
                                </div>
                                <div style="background: linear-gradient(135deg, #dc3545, #c82333); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">12%</h3>
                                    <p style="margin: 0.5rem 0 0 0;">High Risk Suppliers</p>
                                </div>
                            </div>
                            
                            <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                                <h4>Top Performing Suppliers</h4>
                                <div style="margin-top: 1rem;">
                                    <div style="display: flex; justify-content: space-between; padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem; border-left: 4px solid #28a745;">
                                        <span><strong>EcoTech Solutions</strong> - ISO14001, LEED Gold</span>
                                        <span style="color: #28a745; font-weight: bold;">95/100</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem; border-left: 4px solid #28a745;">
                                        <span><strong>GreenSupply Corp</strong> - FSC, Carbon Neutral</span>
                                        <span style="color: #28a745; font-weight: bold;">92/100</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem; border-left: 4px solid #ffc107;">
                                        <span><strong>SustainableCorp</strong> - ISO14001</span>
                                        <span style="color: #ffc107; font-weight: bold;">78/100</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 1.5rem; border-radius: 8px;">
                                <h4 style="color: #856404;">Risk Alerts</h4>
                                <div style="margin-top: 1rem;">
                                    <div style="padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem; border-left: 4px solid #dc3545;">
                                        <strong>⚠️ High Carbon Supplier:</strong> BasicMfg Inc (Carbon: 150 tons/month)
                                    </div>
                                    <div style="padding: 0.8rem; background: white; border-radius: 4px; border-left: 4px solid #ffc107;">
                                        <strong>📋 Certification Expiry:</strong> MidTier Supply (ISO14001 expires in 60 days)
                                    </div>
                                </div>
                            </div>
                        </div>
                    `
                },
                'logistics': {
                    title: '🚛 Logistics Agent Dashboard',
                    content: `
                        <div style="margin-bottom: 2rem;">
                            <p style="color: #666; margin-bottom: 2rem;">Transportation route optimization and emission reduction analysis across your logistics network.</p>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-bottom: 2rem;">
                                <div style="background: linear-gradient(135deg, #ff9900, #e88900); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">40%</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Emission Reduction</p>
                                </div>
                                <div style="background: linear-gradient(135deg, #28a745, #218838); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">$180K</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Annual Savings</p>
                                </div>
                                <div style="background: linear-gradient(135deg, #17a2b8, #138496); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">85%</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Routes Optimized</p>
                                </div>
                            </div>
                            
                            <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                                <h4>Route Optimization Results</h4>
                                <div style="margin-top: 1rem;">
                                    <div style="display: flex; justify-content: space-between; padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem; border-left: 4px solid #28a745;">
                                        <span><strong>Factory A → Warehouse B</strong> (200km)</span>
                                        <span style="color: #28a745;">Switch to Rail: -60% emissions</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem; border-left: 4px solid #28a745;">
                                        <span><strong>Supplier C → Factory A</strong> (800km)</span>
                                        <span style="color: #28a745;">Consolidate: -35% emissions</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 0.8rem; background: white; border-radius: 4px; border-left: 4px solid #ffc107;">
                                        <span><strong>Distribution Hub</strong> (Multiple routes)</span>
                                        <span style="color: #ffc107;">Optimize scheduling: -20% emissions</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: #d1ecf1; border: 1px solid #bee5eb; padding: 1.5rem; border-radius: 8px;">
                                <h4 style="color: #0c5460;">Transport Mode Recommendations</h4>
                                <div style="margin-top: 1rem;">
                                    <div style="padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem;">
                                        <strong>🚂 Rail Transport:</strong> Recommended for routes >500km (70% less emissions than truck)
                                    </div>
                                    <div style="padding: 0.8rem; background: white; border-radius: 4px;">
                                        <strong>🚢 Sea Freight:</strong> International shipments (90% less emissions than air)
                                    </div>
                                </div>
                            </div>
                        </div>
                    `
                },
                'inventory': {
                    title: '📦 Inventory Agent Dashboard',
                    content: `
                        <div style="margin-bottom: 2rem;">
                            <p style="color: #666; margin-bottom: 2rem;">Inventory optimization and waste reduction analysis to minimize environmental impact and costs.</p>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-bottom: 2rem;">
                                <div style="background: linear-gradient(135deg, #28a745, #218838); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">60%</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Waste Reduction</p>
                                </div>
                                <div style="background: linear-gradient(135deg, #17a2b8, #138496); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">$95K</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Capital Freed</p>
                                </div>
                                <div style="background: linear-gradient(135deg, #ffc107, #e0a800); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">35%</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Turnover Increase</p>
                                </div>
                            </div>
                            
                            <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                                <h4>Inventory Optimization Results</h4>
                                <div style="margin-top: 1rem;">
                                    <div style="display: flex; justify-content: space-between; padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem; border-left: 4px solid #28a745;">
                                        <span><strong>Widget A</strong> (500 units, 180d shelf life)</span>
                                        <span style="color: #28a745;">Reduce by 30%: -$15K waste</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem; border-left: 4px solid #28a745;">
                                        <span><strong>Component B</strong> (1200 units, 365d shelf life)</span>
                                        <span style="color: #28a745;">Optimize FIFO: -$8K waste</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 0.8rem; background: white; border-radius: 4px; border-left: 4px solid #ffc107;">
                                        <span><strong>Material C</strong> (800 units, 90d shelf life)</span>
                                        <span style="color: #ffc107;">High risk: Implement JIT</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 1.5rem; border-radius: 8px;">
                                <h4 style="color: #155724;">Waste Reduction Strategies</h4>
                                <div style="margin-top: 1rem;">
                                    <div style="padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem;">
                                        <strong>📊 Demand Forecasting:</strong> AI-powered prediction reduces overstock by 45%
                                    </div>
                                    <div style="padding: 0.8rem; background: white; border-radius: 4px;">
                                        <strong>⏰ FIFO Implementation:</strong> First-in-first-out reduces expiry waste by 70%
                                    </div>
                                </div>
                            </div>
                        </div>
                    `
                },
                'carbon': {
                    title: '🌱 Carbon Accounting Agent Dashboard',
                    content: `
                        <div style="margin-bottom: 2rem;">
                            <p style="color: #666; margin-bottom: 2rem;">Comprehensive carbon footprint tracking and environmental impact analysis across your entire supply chain.</p>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-bottom: 2rem;">
                                <div style="background: linear-gradient(135deg, #dc3545, #c82333); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">4,827</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Total CO2 (tons)</p>
                                </div>
                                <div style="background: linear-gradient(135deg, #ffc107, #e0a800); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">D</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Sustainability Grade</p>
                                </div>
                                <div style="background: linear-gradient(135deg, #28a745, #218838); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">30%</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Reduction Potential</p>
                                </div>
                            </div>
                            
                            <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                                <h4>Carbon Footprint Breakdown</h4>
                                <div style="margin-top: 1rem;">
                                    <div style="margin-bottom: 1rem;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                            <span><strong>🏭 Sourcing & Manufacturing (65%)</strong></span>
                                            <span style="color: #dc3545; font-weight: bold;">3,137 tons CO2</span>
                                        </div>
                                        <div style="background: #e9ecef; height: 12px; border-radius: 6px;">
                                            <div style="background: #dc3545; height: 100%; width: 65%; border-radius: 6px;"></div>
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 1rem;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                            <span><strong>🚛 Logistics & Transportation (25%)</strong></span>
                                            <span style="color: #ffc107; font-weight: bold;">1,207 tons CO2</span>
                                        </div>
                                        <div style="background: #e9ecef; height: 12px; border-radius: 6px;">
                                            <div style="background: #ffc107; height: 100%; width: 25%; border-radius: 6px;"></div>
                                        </div>
                                    </div>
                                    <div style="margin-bottom: 1rem;">
                                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                            <span><strong>⚡ Operations & Facilities (10%)</strong></span>
                                            <span style="color: #28a745; font-weight: bold;">483 tons CO2</span>
                                        </div>
                                        <div style="background: #e9ecef; height: 12px; border-radius: 6px;">
                                            <div style="background: #28a745; height: 100%; width: 10%; border-radius: 6px;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                                <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 1.5rem; border-radius: 8px;">
                                    <h4 style="color: #856404;">🎯 Reduction Opportunities</h4>
                                    <div style="margin-top: 1rem;">
                                        <div style="padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem; border-left: 4px solid #28a745;">
                                            <strong>Rail Transport Switch:</strong> -1,930 tons CO2 (40% logistics reduction)
                                        </div>
                                        <div style="padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem; border-left: 4px solid #17a2b8;">
                                            <strong>Supplier Training:</strong> -785 tons CO2 (25% sourcing reduction)
                                        </div>
                                        <div style="padding: 0.8rem; background: white; border-radius: 4px; border-left: 4px solid #ffc107;">
                                            <strong>Renewable Energy:</strong> -290 tons CO2 (60% operations reduction)
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="background: #d1ecf1; border: 1px solid #bee5eb; padding: 1.5rem; border-radius: 8px;">
                                    <h4 style="color: #0c5460;">📊 Industry Benchmarking</h4>
                                    <div style="margin-top: 1rem;">
                                        <div style="padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem;">
                                            <strong>Industry Average:</strong> 3,200 tons CO2
                                            <div style="color: #dc3545; font-size: 0.9rem;">You're 51% above average</div>
                                        </div>
                                        <div style="padding: 0.8rem; background: white; border-radius: 4px; margin-bottom: 0.5rem;">
                                            <strong>Best in Class:</strong> 2,100 tons CO2
                                            <div style="color: #ffc107; font-size: 0.9rem;">Target for 2025</div>
                                        </div>
                                        <div style="padding: 0.8rem; background: white; border-radius: 4px;">
                                            <strong>Net Zero Goal:</strong> <500 tons CO2
                                            <div style="color: #28a745; font-size: 0.9rem;">Achievable by 2030</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 1.5rem; border-radius: 8px;">
                                <h4 style="color: #155724;">📈 Progress Tracking</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                                    <div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                                        <div style="font-size: 1.5rem; font-weight: bold; color: #28a745;">-15%</div>
                                        <div style="font-size: 0.9rem; color: #666;">YTD Reduction</div>
                                    </div>
                                    <div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                                        <div style="font-size: 1.5rem; font-weight: bold; color: #17a2b8;">Q3 2024</div>
                                        <div style="font-size: 0.9rem; color: #666;">Next Review</div>
                                    </div>
                                    <div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                                        <div style="font-size: 1.5rem; font-weight: bold; color: #ffc107;">85%</div>
                                        <div style="font-size: 0.9rem; color: #666;">Goal Progress</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `
                },
                'recommendation': {
                    title: '💡 Recommendation Agent Dashboard',
                    content: `
                        <div style="margin-bottom: 2rem;">
                            <p style="color: #666; margin-bottom: 2rem;">AI-powered recommendations synthesized from all agents with prioritized action items and ROI projections.</p>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-bottom: 2rem;">
                                <div style="background: linear-gradient(135deg, #ff9900, #e88900); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">12</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Priority Actions</p>
                                </div>
                                <div style="background: linear-gradient(135deg, #28a745, #218838); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">$455K</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Potential Savings</p>
                                </div>
                                <div style="background: linear-gradient(135deg, #17a2b8, #138496); color: white; padding: 1.5rem; border-radius: 8px; text-align: center;">
                                    <h3 style="margin: 0; font-size: 2rem;">8 months</h3>
                                    <p style="margin: 0.5rem 0 0 0;">Avg ROI Timeline</p>
                                </div>
                            </div>
                            
                            <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                                <h4 style="color: #856404;">🚀 High Impact Recommendations (0-30 days)</h4>
                                <div style="margin-top: 1rem;">
                                    <div style="display: flex; align-items: center; padding: 1rem; background: white; border-radius: 4px; margin-bottom: 0.8rem; border-left: 4px solid #dc3545;">
                                        <span style="margin-right: 1rem; font-size: 1.5rem;">🚛</span>
                                        <div style="flex: 1;">
                                            <strong>Switch Long Routes to Rail Transport</strong>
                                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">Impact: 40% emission reduction • Savings: $180K annually • Timeline: 2-4 weeks</div>
                                            <div style="background: #dc3545; height: 4px; width: 95%; border-radius: 2px; margin-top: 0.5rem;"></div>
                                        </div>
                                        <div style="text-align: right; color: #dc3545; font-weight: bold;">Critical</div>
                                    </div>
                                    <div style="display: flex; align-items: center; padding: 1rem; background: white; border-radius: 4px; margin-bottom: 0.8rem; border-left: 4px solid #ffc107;">
                                        <span style="margin-right: 1rem; font-size: 1.5rem;">🏭</span>
                                        <div style="flex: 1;">
                                            <strong>Contact Top 5 Carbon-Intensive Suppliers</strong>
                                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">Impact: 25% sourcing reduction • Savings: $120K annually • Timeline: 1-2 weeks</div>
                                            <div style="background: #ffc107; height: 4px; width: 85%; border-radius: 2px; margin-top: 0.5rem;"></div>
                                        </div>
                                        <div style="text-align: right; color: #ffc107; font-weight: bold;">High</div>
                                    </div>
                                    <div style="display: flex; align-items: center; padding: 1rem; background: white; border-radius: 4px; border-left: 4px solid #28a745;">
                                        <span style="margin-right: 1rem; font-size: 1.5rem;">📦</span>
                                        <div style="flex: 1;">
                                            <strong>Implement FIFO Inventory System</strong>
                                            <div style="font-size: 0.9rem; color: #666; margin-top: 0.3rem;">Impact: 60% waste reduction • Savings: $95K working capital • Timeline: 1 week</div>
                                            <div style="background: #28a745; height: 4px; width: 75%; border-radius: 2px; margin-top: 0.5rem;"></div>
                                        </div>
                                        <div style="text-align: right; color: #28a745; font-weight: bold;">Medium</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem;">
                                <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px;">
                                    <h4>📅 Implementation Timeline</h4>
                                    <div style="margin-top: 1rem;">
                                        <div style="margin-bottom: 1rem; padding: 1rem; background: white; border-radius: 4px; border-left: 4px solid #dc3545;">
                                            <strong>Week 1-2: Quick Wins</strong>
                                            <div style="color: #666; margin-top: 0.3rem; font-size: 0.9rem;">• Contact rail providers<br>• Implement FIFO system<br>• Schedule supplier meetings</div>
                                        </div>
                                        <div style="margin-bottom: 1rem; padding: 1rem; background: white; border-radius: 4px; border-left: 4px solid #ffc107;">
                                            <strong>Month 1-3: Core Changes</strong>
                                            <div style="color: #666; margin-top: 0.3rem; font-size: 0.9rem;">• Deploy route optimization<br>• Launch training programs<br>• Set reduction targets</div>
                                        </div>
                                        <div style="padding: 1rem; background: white; border-radius: 4px; border-left: 4px solid #28a745;">
                                            <strong>Month 3-12: Scale & Monitor</strong>
                                            <div style="color: #666; margin-top: 0.3rem; font-size: 0.9rem;">• Expand to new suppliers<br>• Track progress KPIs<br>• Achieve sustainability goals</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px;">
                                    <h4>💰 ROI Projections</h4>
                                    <div style="margin-top: 1rem;">
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                            <div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                                                <div style="font-size: 1.5rem; font-weight: bold; color: #28a745;">$455K</div>
                                                <div style="font-size: 0.9rem; color: #666;">Year 1 Savings</div>
                                            </div>
                                            <div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                                                <div style="font-size: 1.5rem; font-weight: bold; color: #17a2b8;">285%</div>
                                                <div style="font-size: 0.9rem; color: #666;">ROI Percentage</div>
                                            </div>
                                            <div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                                                <div style="font-size: 1.5rem; font-weight: bold; color: #ffc107;">8 mo</div>
                                                <div style="font-size: 0.9rem; color: #666;">Payback Period</div>
                                            </div>
                                            <div style="text-align: center; padding: 1rem; background: white; border-radius: 4px;">
                                                <div style="font-size: 1.5rem; font-weight: bold; color: #ff9900;">$1.2M</div>
                                                <div style="font-size: 0.9rem; color: #666;">3-Year Value</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 1.5rem; border-radius: 8px;">
                                <h4 style="color: #155724;">📊 Success Metrics & KPIs</h4>
                                <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                                    <div style="padding: 1rem; background: white; border-radius: 4px; text-align: center;">
                                        <div style="font-size: 1.2rem; font-weight: bold; color: #dc3545;">-30%</div>
                                        <div style="font-size: 0.9rem; color: #666;">Carbon Reduction Target</div>
                                    </div>
                                    <div style="padding: 1rem; background: white; border-radius: 4px; text-align: center;">
                                        <div style="font-size: 1.2rem; font-weight: bold; color: #28a745;">+25%</div>
                                        <div style="font-size: 0.9rem; color: #666;">Supplier Score Improvement</div>
                                    </div>
                                    <div style="padding: 1rem; background: white; border-radius: 4px; text-align: center;">
                                        <div style="font-size: 1.2rem; font-weight: bold; color: #17a2b8;">90%</div>
                                        <div style="font-size: 0.9rem; color: #666;">Implementation Success Rate</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `
                }
            };
            
            const data = dashboards[agentType];
            title.textContent = data.title;
            content.innerHTML = data.content;
            modal.style.display = 'block';
        }

        function viewCarbonData() {
            showAgentDashboard('carbon');
        }

        function viewRecommendations() {
            showAgentDashboard('recommendation');
        }

        function exportReport() {
            alert('📄 Report Export\n\nGenerating comprehensive sustainability report...\n\n✅ Executive Summary\n✅ Detailed Agent Analysis\n✅ Carbon Footprint Breakdown\n✅ Recommendations & Action Plan\n✅ ROI Projections\n\nReport would be exported as PDF with interactive charts and data tables.');
        }
        
        function scheduleFollowUp() {
            alert('📅 Follow-up Analysis\n\nScheduling options:\n\n• Weekly monitoring (recommended)\n• Monthly deep analysis\n• Quarterly strategic review\n• Custom schedule\n\nNext analysis will track:\n✓ Implementation progress\n✓ KPI improvements\n✓ New optimization opportunities\n✓ ROI validation');
        }
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('agentModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
    </script>
</body>
</html>